[gd_scene load_steps=27 format=3 uid="uid://c0hgkupsei64e"]

[ext_resource type="PackedScene" uid="uid://cbdknkk5fy66p" path="res://models/fish_spirit/fishspirit.glb" id="1_6uhlw"]
[ext_resource type="Script" uid="uid://bjgeh4vshhqa6" path="res://actors/fish_spirit/fish_spirit.gd" id="1_ubsn6"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_6uhlw"]
animation = &"LookUp"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ubsn6"]
animation = &"LookDown"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_hfhg7"]
animation = &"LookLeft"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_vweki"]
animation = &"LookRight"

[sub_resource type="AnimationNodeBlendSpace2D" id="AnimationNodeBlendSpace2D_ubsn6"]
blend_point_0/node = SubResource("AnimationNodeAnimation_6uhlw")
blend_point_0/pos = Vector2(0, 1)
blend_point_1/node = SubResource("AnimationNodeAnimation_ubsn6")
blend_point_1/pos = Vector2(0, -1)
blend_point_2/node = SubResource("AnimationNodeAnimation_hfhg7")
blend_point_2/pos = Vector2(-1, 0)
blend_point_3/node = SubResource("AnimationNodeAnimation_vweki")
blend_point_3/pos = Vector2(1, 0)

[sub_resource type="AnimationNodeAdd2" id="AnimationNodeAdd2_hfhg7"]
filters = ["FishSpritiSkeleton/Skeleton3D:Ear1.L", "FishSpritiSkeleton/Skeleton3D:Ear1.R", "FishSpritiSkeleton/Skeleton3D:Ear2.L", "FishSpritiSkeleton/Skeleton3D:Ear2.R", "FishSpritiSkeleton/Skeleton3D:Eye.L", "FishSpritiSkeleton/Skeleton3D:Eye.R", "FishSpritiSkeleton/Skeleton3D:HairBack", "FishSpritiSkeleton/Skeleton3D:HairBack.L", "FishSpritiSkeleton/Skeleton3D:HairBack.R", "FishSpritiSkeleton/Skeleton3D:HairBang1.L", "FishSpritiSkeleton/Skeleton3D:HairBang1.R", "FishSpritiSkeleton/Skeleton3D:HairBang2.L", "FishSpritiSkeleton/Skeleton3D:HairBang2.R", "FishSpritiSkeleton/Skeleton3D:HairFringe", "FishSpritiSkeleton/Skeleton3D:HairTail", "FishSpritiSkeleton/Skeleton3D:Head"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_nm6ut"]
animation = &"Jump"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_absab"]
animation = &"Fall"

[sub_resource type="AnimationNodeBlendSpace1D" id="AnimationNodeBlendSpace1D_vweki"]
blend_point_0/node = SubResource("AnimationNodeAnimation_nm6ut")
blend_point_0/pos = 1.0
blend_point_1/node = SubResource("AnimationNodeAnimation_absab")
blend_point_1/pos = -1.0

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_lqhyu"]
animation = &"Idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_fqn6v"]
animation = &"WalkForward"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_o5tvn"]
animation = &"RunForward"

[sub_resource type="AnimationNodeBlendSpace1D" id="AnimationNodeBlendSpace1D_3qr8t"]
blend_point_0/node = SubResource("AnimationNodeAnimation_lqhyu")
blend_point_0/pos = 0.0
blend_point_1/node = SubResource("AnimationNodeAnimation_fqn6v")
blend_point_1/pos = 1.0
blend_point_2/node = SubResource("AnimationNodeAnimation_o5tvn")
blend_point_2/pos = 8.0
max_space = 10.0

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_avjtj"]
animation = &"Sit"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_g5lrh"]
animation = &"SitIdle"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_drpbo"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_pafnd"]
xfade_time = 0.05
advance_mode = 2
advance_condition = &"is_on_ground"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_gxp5y"]
xfade_time = 0.05
advance_mode = 2
advance_expression = "!get(\"parameters/StateMachine/conditions/is_on_ground\")"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_txa26"]
xfade_time = 0.05
advance_mode = 2
advance_condition = &"is_sitting"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ju6q3"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_uhjjb"]
xfade_time = 0.1
advance_mode = 2
advance_expression = "!get(\"parameters/StateMachine/conditions/is_sitting\")"

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_uubo6"]
states/InAir/node = SubResource("AnimationNodeBlendSpace1D_vweki")
states/InAir/position = Vector2(490.074, 100.444)
states/OnGround/node = SubResource("AnimationNodeBlendSpace1D_3qr8t")
states/OnGround/position = Vector2(490.938, 278.667)
states/Sit/node = SubResource("AnimationNodeAnimation_avjtj")
states/Sit/position = Vector2(643.333, 279.259)
states/SitIdle/node = SubResource("AnimationNodeAnimation_g5lrh")
states/SitIdle/position = Vector2(642.222, 383.556)
transitions = ["Start", "InAir", SubResource("AnimationNodeStateMachineTransition_drpbo"), "InAir", "OnGround", SubResource("AnimationNodeStateMachineTransition_pafnd"), "OnGround", "InAir", SubResource("AnimationNodeStateMachineTransition_gxp5y"), "OnGround", "Sit", SubResource("AnimationNodeStateMachineTransition_txa26"), "Sit", "SitIdle", SubResource("AnimationNodeStateMachineTransition_ju6q3"), "SitIdle", "OnGround", SubResource("AnimationNodeStateMachineTransition_uhjjb")]

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_uawip"]
graph_offset = Vector2(-453.333, -14.6667)
nodes/HeadLook/node = SubResource("AnimationNodeBlendSpace2D_ubsn6")
nodes/HeadLook/position = Vector2(-213.333, 306.667)
nodes/HeadSwivel/node = SubResource("AnimationNodeAdd2_hfhg7")
nodes/HeadSwivel/position = Vector2(66.6667, 146.667)
nodes/StateMachine/node = SubResource("AnimationNodeStateMachine_uubo6")
nodes/StateMachine/position = Vector2(-266.667, 40)
node_connections = [&"HeadSwivel", 0, &"StateMachine", &"HeadSwivel", 1, &"HeadLook", &"output", 0, &"HeadSwivel"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_6uhlw"]
radius = 1.0
height = 3.2

[node name="FishSpirit" type="CharacterBody3D"]
script = ExtResource("1_ubsn6")

[node name="fishspirit" parent="." instance=ExtResource("1_6uhlw")]

[node name="Skeleton3D" parent="fishspirit/FishSpritiSkeleton" index="0"]
bones/1/position = Vector3(-1.8704e-16, -0.295989, -1.13834)
bones/1/rotation = Quaternion(-0.707107, 7.85046e-17, 7.85046e-17, 0.707107)
bones/2/rotation = Quaternion(-0.662629, 7.35666e-17, -2.18176e-16, 0.748948)
bones/3/rotation = Quaternion(-0.0422132, -0.00532142, -0.0665176, 0.996878)
bones/4/rotation = Quaternion(-0.00152105, 0.000196061, 0.00544544, 0.999984)
bones/5/rotation = Quaternion(-0.00159994, 0.000188056, 0.00571948, 0.999982)
bones/6/rotation = Quaternion(-0.00178275, 0.000187693, 0.0063638, 0.999978)
bones/7/rotation = Quaternion(-0.00194452, 0.000178579, 0.00693145, 0.999974)
bones/8/rotation = Quaternion(-0.0422132, 0.00532141, 0.0665176, 0.996878)
bones/9/rotation = Quaternion(-0.00152105, -0.000196061, -0.00544544, 0.999984)
bones/10/rotation = Quaternion(-0.00159994, -0.000188056, -0.00571948, 0.999982)
bones/11/rotation = Quaternion(-0.00178275, -0.000187693, -0.0063638, 0.999978)
bones/12/rotation = Quaternion(-0.00194452, -0.000178579, -0.00693145, 0.999974)
bones/13/rotation = Quaternion(0.563914, -0.390059, 0.580353, -0.43937)
bones/14/rotation = Quaternion(-0.0560013, 0.00820781, 0.35721, 0.932307)
bones/15/rotation = Quaternion(-0.289734, -0.631811, -0.2547, 0.672307)
bones/16/rotation = Quaternion(-0.563914, -0.390059, 0.580353, 0.43937)
bones/17/rotation = Quaternion(-0.0560013, -0.00820781, -0.35721, 0.932307)
bones/18/rotation = Quaternion(-0.289734, 0.631811, 0.2547, 0.672307)
bones/19/rotation = Quaternion(0.636063, -7.06171e-17, 8.30244e-17, 0.771637)
bones/20/rotation = Quaternion(0.031924, -6.11351e-18, 1.05023e-18, 0.99949)
bones/21/rotation = Quaternion(0.857587, 0.0348969, -0.00435935, 0.513135)
bones/22/rotation = Quaternion(-0.115158, 0.975156, -0.188941, 0.010559)
bones/23/rotation = Quaternion(-0.0396652, -0.697767, 0.0486684, 0.713568)
bones/24/rotation = Quaternion(0.857587, -0.0348969, 0.00435935, 0.513135)
bones/25/rotation = Quaternion(0.115158, 0.975156, -0.188941, -0.010559)
bones/26/rotation = Quaternion(-0.0396652, 0.697767, -0.0486684, 0.713568)
bones/27/position = Vector3(-2.0355e-16, 0.295509, 0.916709)
bones/27/rotation = Quaternion(0.707107, -7.85046e-17, 7.85046e-17, 0.707107)
bones/28/rotation = Quaternion(-0.630534, -0.015401, -0.015401, 0.775856)
bones/29/rotation = Quaternion(0.116537, 0.00328703, 0.0071106, 0.993155)
bones/30/position = Vector3(0.195017, 0.163849, -1.37086)
bones/31/rotation = Quaternion(-0.630534, 0.015401, 0.015401, 0.775856)
bones/32/rotation = Quaternion(0.116537, -0.00328703, -0.0071106, 0.993155)
bones/33/position = Vector3(-0.195017, 0.163849, -1.37086)
bones/34/position = Vector3(-0.431791, -0.0641764, -0.481792)
bones/34/rotation = Quaternion(-0.472276, 0.525809, 0.481701, 0.518116)
bones/35/rotation = Quaternion(0.0284962, -0.998973, -0.0352257, 0.00100483)
bones/36/rotation = Quaternion(0.0284962, 0.998973, 0.0352257, 0.00100483)
bones/37/position = Vector3(-2.91112e-14, 0.483423, -0.582392)
bones/37/rotation = Quaternion(0.671214, -8.83676e-07, -8.00168e-07, 0.741264)
bones/38/position = Vector3(3.28877e-15, -0.44285, -0.423045)
bones/38/rotation = Quaternion(0.949598, -3.73687e-08, -1.13201e-07, 0.313471)
bones/39/position = Vector3(0.394842, -0.253196, -0.27079)
bones/39/rotation = Quaternion(0.769498, 0.450666, 0.398656, 0.214115)
bones/40/position = Vector3(-0.394842, -0.253196, -0.27079)
bones/40/rotation = Quaternion(0.769498, -0.450666, -0.398656, 0.214115)
bones/41/rotation = Quaternion(0.531184, -0.493904, -0.495662, 0.477726)
bones/42/rotation = Quaternion(-0.165482, 0.694584, 0.324443, 0.620407)
bones/43/rotation = Quaternion(0.531184, 0.493904, 0.495662, 0.477726)
bones/44/rotation = Quaternion(-0.165482, -0.694584, -0.324443, 0.620407)
bones/45/rotation = Quaternion(-0.707107, 7.85046e-17, -7.85046e-17, 0.707107)
bones/46/rotation = Quaternion(-0.707107, 7.85046e-17, -7.85046e-17, 0.707107)
bones/47/rotation = Quaternion(-0.707107, 7.85046e-17, -7.85046e-17, 0.707107)
bones/48/rotation = Quaternion(-0.707107, 7.85046e-17, -7.85046e-17, 0.707107)
bones/49/rotation = Quaternion(-0.707107, 7.85046e-17, -7.85046e-17, 0.707107)
bones/50/rotation = Quaternion(-0.707107, 7.85046e-17, -7.85046e-17, 0.707107)
bones/51/position = Vector3(0.491548, 0.564177, -4.29957)
bones/51/rotation = Quaternion(-0.707107, 7.85046e-17, -7.85046e-17, 0.707107)
bones/52/position = Vector3(-0.491548, 0.564177, -4.29957)
bones/52/rotation = Quaternion(-0.707107, 7.85046e-17, -7.85046e-17, 0.707107)
bones/53/position = Vector3(0.491548, 0.564177, -4.04957)
bones/53/rotation = Quaternion(-0.707107, 7.85046e-17, -7.85046e-17, 0.707107)
bones/54/position = Vector3(-0.491548, 0.564177, -4.04957)
bones/54/rotation = Quaternion(-0.707107, 7.85046e-17, -7.85046e-17, 0.707107)
bones/56/rotation = Quaternion(-2.1857e-08, -5.30384e-32, -5.30384e-32, 1)
bones/57/rotation = Quaternion(-2.1857e-08, -5.30384e-32, -5.30384e-32, 1)
bones/58/rotation = Quaternion(-2.1857e-08, -5.30384e-32, -5.30384e-32, 1)
bones/59/rotation = Quaternion(-2.1857e-08, -5.30384e-32, -5.30384e-32, 1)
bones/60/position = Vector3(-1.34439e-15, 4.62072, -1.43385)

[node name="AnimationTree" type="AnimationTree" parent="."]
root_node = NodePath("../fishspirit")
tree_root = SubResource("AnimationNodeBlendTree_uawip")
anim_player = NodePath("../fishspirit/AnimationPlayer")
parameters/HeadLook/blend_position = Vector2(-0.00258845, -0.00411522)
parameters/HeadSwivel/add_amount = 1.0
parameters/StateMachine/conditions/is_on_ground = true
parameters/StateMachine/conditions/is_sitting = false
parameters/StateMachine/InAir/blend_position = -0.740496
parameters/StateMachine/OnGround/blend_position = -0.0181818

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 1, -0.126)
shape = SubResource("CapsuleShape3D_6uhlw")

[editable path="fishspirit"]
