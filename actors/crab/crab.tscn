[gd_scene load_steps=86 format=3 uid="uid://lddmwkgyuqsk"]

[ext_resource type="Script" uid="uid://chfx3hh8lsrfl" path="res://actors/crab/crab.gd" id="1_fc1xm"]
[ext_resource type="PackedScene" uid="uid://c74fjumkfclbm" path="res://models/crab/crab.glb" id="1_vihr2"]
[ext_resource type="AudioStream" uid="uid://kh5jw413qke" path="res://audio_fx/pops/pops_randomizer.tres" id="3_fc1xm"]
[ext_resource type="ArrayMesh" uid="uid://bbs4wtf73rkvr" path="res://models/props/props_shell.res" id="4_5xahp"]
[ext_resource type="AudioStream" uid="uid://dbsue48pc4jgq" path="res://audio_fx/chimes/chimes_randomizer.tres" id="4_6khos"]
[ext_resource type="Environment" uid="uid://w2e6ycuh6qo3" path="res://environments/ui_viewport_environment.tres" id="5_a6tpn"]
[ext_resource type="AudioStream" uid="uid://c0ochslvoixb0" path="res://audio_fx/clacks/clacks_randomizer.tres" id="5_fyuy5"]
[ext_resource type="Shader" uid="uid://did5vtykh6n11" path="res://shaders/props/shell.gdshader" id="5_ov32d"]
[ext_resource type="FontFile" uid="uid://mxusxbj4a140" path="res://fonts/SuperPeanut-PVAK7.ttf" id="6_2x4nq"]
[ext_resource type="AudioStream" uid="uid://ecn7qvlfberi" path="res://audio_fx/thuds/thuds_randomizer.tres" id="6_w66pk"]
[ext_resource type="Script" uid="uid://baim48guv3n7v" path="res://scripts/auto_label.gd" id="7_8atix"]
[ext_resource type="AudioStream" uid="uid://mfgs7jvagkgn" path="res://audio_fx/swings/swings_randomizer.tres" id="7_hhuwn"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_ieb0f"]
height = 1.6

[sub_resource type="AnimationNodeAdd2" id="AnimationNodeAdd2_ieb0f"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_5xahp"]
animation = &"Grab1"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_8lhgq"]
animation = &"Grab2"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_fyuy5"]
animation = &"Hold1"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_w66pk"]
animation = &"Hold2"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_hhuwn"]
animation = &"IdleClaws"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_04so3"]
animation = &"Swing1"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_plgea"]
animation = &"Swing2"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_a52gb"]
animation = &"Yeet1"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_6olra"]
animation = &"Yeet2"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_plgea"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ls75x"]
xfade_time = 0.1
advance_mode = 2
advance_condition = &"is_grabbing_1"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_1elqm"]
xfade_time = 0.2
switch_mode = 2
advance_mode = 2
advance_condition = &"has_grabbed"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_32kc2"]
advance_mode = 2
advance_condition = &"is_yeeting"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_hfyy1"]
xfade_time = 0.2
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_m8i5c"]
xfade_time = 0.1
advance_mode = 2
advance_condition = &"is_grabbing_2"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_o3r0t"]
xfade_time = 0.2
switch_mode = 2
advance_mode = 2
advance_condition = &"has_grabbed"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_mkghy"]
advance_mode = 2
advance_condition = &"is_yeeting"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_p2ldd"]
xfade_time = 0.2
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ieb0f"]
xfade_time = 0.1
switch_mode = 2
advance_mode = 2
advance_expression = "!get(\"parameters/BlendTree/HandMachine/conditions/has_grabbed\")"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_fc1xm"]
xfade_time = 0.1
switch_mode = 2
advance_mode = 2
advance_expression = "!get(\"parameters/BlendTree/HandMachine/conditions/has_grabbed\")"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ytn5g"]
xfade_time = 0.05
advance_mode = 2
advance_condition = &"is_swinging"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_uquan"]
xfade_time = 0.3
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_v0otd"]
advance_mode = 2
advance_condition = &"is_swinging"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_duvi4"]
xfade_time = 0.3
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_ytn5g"]
states/Grab1/node = SubResource("AnimationNodeAnimation_5xahp")
states/Grab1/position = Vector2(486.667, 270.593)
states/Grab2/node = SubResource("AnimationNodeAnimation_8lhgq")
states/Grab2/position = Vector2(624.667, 270.914)
states/Hold1/node = SubResource("AnimationNodeAnimation_fyuy5")
states/Hold1/position = Vector2(486.444, 397.333)
states/Hold2/node = SubResource("AnimationNodeAnimation_w66pk")
states/Hold2/position = Vector2(625.778, 397.333)
states/IdleClaws/node = SubResource("AnimationNodeAnimation_hhuwn")
states/IdleClaws/position = Vector2(555.334, 100.222)
states/Swing1/node = SubResource("AnimationNodeAnimation_04so3")
states/Swing1/position = Vector2(487.111, 515.333)
states/Swing2/node = SubResource("AnimationNodeAnimation_plgea")
states/Swing2/position = Vector2(624.074, 515.111)
states/Yeet1/node = SubResource("AnimationNodeAnimation_a52gb")
states/Yeet1/position = Vector2(339.333, 398.074)
states/Yeet2/node = SubResource("AnimationNodeAnimation_6olra")
states/Yeet2/position = Vector2(754, 396)
transitions = ["Start", "IdleClaws", SubResource("AnimationNodeStateMachineTransition_plgea"), "IdleClaws", "Grab1", SubResource("AnimationNodeStateMachineTransition_ls75x"), "Grab1", "Hold1", SubResource("AnimationNodeStateMachineTransition_1elqm"), "Hold1", "Yeet1", SubResource("AnimationNodeStateMachineTransition_32kc2"), "Yeet1", "IdleClaws", SubResource("AnimationNodeStateMachineTransition_hfyy1"), "IdleClaws", "Grab2", SubResource("AnimationNodeStateMachineTransition_m8i5c"), "Grab2", "Hold2", SubResource("AnimationNodeStateMachineTransition_o3r0t"), "Hold2", "Yeet2", SubResource("AnimationNodeStateMachineTransition_mkghy"), "Yeet2", "IdleClaws", SubResource("AnimationNodeStateMachineTransition_p2ldd"), "Grab2", "IdleClaws", SubResource("AnimationNodeStateMachineTransition_ieb0f"), "Grab1", "IdleClaws", SubResource("AnimationNodeStateMachineTransition_fc1xm"), "Hold1", "Swing1", SubResource("AnimationNodeStateMachineTransition_ytn5g"), "Swing1", "Hold1", SubResource("AnimationNodeStateMachineTransition_uquan"), "Hold2", "Swing2", SubResource("AnimationNodeStateMachineTransition_v0otd"), "Swing2", "Hold2", SubResource("AnimationNodeStateMachineTransition_duvi4")]
graph_offset = Vector2(-50, 8)

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ls75x"]
animation = &"Dash"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_67nus"]
animation = &"Flip"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ieb0f"]
animation = &"Jump"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_fc1xm"]
animation = &"Fall"

[sub_resource type="AnimationNodeBlendSpace1D" id="AnimationNodeBlendSpace1D_5xahp"]
blend_point_0/node = SubResource("AnimationNodeAnimation_ieb0f")
blend_point_0/pos = 1.0
blend_point_1/node = SubResource("AnimationNodeAnimation_fc1xm")
blend_point_1/pos = -1.0

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_a6tpn"]
animation = &"Rave"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_32kc2"]
animation = &"Slide"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_1elqm"]
animation = &"Spin"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_hfyy1"]
animation = &"SuperSpin"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_2x4nq"]
animation = &"Action"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_8atix"]
animation = &"ScuttleForward"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_rgudy"]
animation = &"ScuttleRightward"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_6khos"]
animation = &"ScuttleBackward"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ov32d"]
animation = &"ScuttleLeftward"

[sub_resource type="AnimationNodeBlendSpace2D" id="AnimationNodeBlendSpace2D_8lhgq"]
blend_point_0/node = SubResource("AnimationNodeAnimation_2x4nq")
blend_point_0/pos = Vector2(0, 0)
blend_point_1/node = SubResource("AnimationNodeAnimation_8atix")
blend_point_1/pos = Vector2(0, 0.5)
blend_point_2/node = SubResource("AnimationNodeAnimation_rgudy")
blend_point_2/pos = Vector2(0.5, 0)
blend_point_3/node = SubResource("AnimationNodeAnimation_6khos")
blend_point_3/pos = Vector2(0, -0.5)
blend_point_4/node = SubResource("AnimationNodeAnimation_ov32d")
blend_point_4/pos = Vector2(-0.5, 0)
sync = true

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_fyuy5"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_w66pk"]
xfade_time = 0.05
advance_mode = 2
advance_condition = &"is_on_ground"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_hhuwn"]
advance_mode = 2
advance_expression = "!get(\"parameters/BlendTree/StateMachine/conditions/is_on_ground\")"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_a52gb"]
xfade_time = 0.2
advance_mode = 2
advance_condition = &"is_rave_pressed"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_6olra"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "!get(\"parameters/BlendTree/StateMachine/conditions/is_rave_pressed\")"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_04so3"]
advance_mode = 2
advance_expression = "!get(\"parameters/BlendTree/StateMachine/conditions/is_on_ground\")"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_yfpss"]
xfade_time = 0.05
advance_mode = 2
advance_condition = &"is_dash_pressed"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_vqgx3"]
xfade_time = 0.5
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_pgv6q"]
xfade_time = 0.05
advance_mode = 2
advance_condition = &"is_dash_pressed"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_xqivb"]
xfade_time = 0.05
advance_mode = 2
advance_condition = &"is_spin_pressed"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_w7sik"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ocqmu"]
xfade_time = 0.05
advance_mode = 2
advance_condition = &"is_spin_pressed"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_v6mtc"]
advance_mode = 2
advance_condition = &"is_sliding"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_tcyba"]
xfade_time = 0.05
advance_mode = 2
advance_expression = "!get(\"parameters/BlendTree/StateMachine/conditions/is_sliding\")"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_q4cli"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_fem22"]
xfade_time = 0.1
advance_mode = 2
advance_condition = &"is_flipping"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_d1j4y"]
xfade_time = 0.2
switch_mode = 2
advance_mode = 2
advance_condition = &"is_super_spinning"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_gsk3x"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_acw5q"]
advance_mode = 2
advance_condition = &"is_spin_pressed"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_euuoj"]
advance_mode = 2
advance_condition = &"is_spin_pressed"

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_plgea"]
states/Dash/node = SubResource("AnimationNodeAnimation_ls75x")
states/Dash/position = Vector2(317.555, 259.185)
states/Flip/node = SubResource("AnimationNodeAnimation_67nus")
states/Flip/position = Vector2(126.506, 147)
states/JumpAndFall/node = SubResource("AnimationNodeBlendSpace1D_5xahp")
states/JumpAndFall/position = Vector2(315.926, 77.5555)
states/Rave/node = SubResource("AnimationNodeAnimation_a6tpn")
states/Rave/position = Vector2(716, 258.444)
states/Slide/node = SubResource("AnimationNodeAnimation_32kc2")
states/Slide/position = Vector2(127.481, 259.078)
states/Spin/node = SubResource("AnimationNodeAnimation_1elqm")
states/Spin/position = Vector2(489.407, 77.8602)
states/Start/position = Vector2(26.5927, 78.2222)
states/SuperSpin/node = SubResource("AnimationNodeAnimation_hfyy1")
states/SuperSpin/position = Vector2(489.181, -31.0169)
states/Walking/node = SubResource("AnimationNodeBlendSpace2D_8lhgq")
states/Walking/position = Vector2(490.222, 260)
transitions = ["Start", "JumpAndFall", SubResource("AnimationNodeStateMachineTransition_fyuy5"), "JumpAndFall", "Walking", SubResource("AnimationNodeStateMachineTransition_w66pk"), "Walking", "JumpAndFall", SubResource("AnimationNodeStateMachineTransition_hhuwn"), "Walking", "Rave", SubResource("AnimationNodeStateMachineTransition_a52gb"), "Rave", "Walking", SubResource("AnimationNodeStateMachineTransition_6olra"), "Rave", "JumpAndFall", SubResource("AnimationNodeStateMachineTransition_04so3"), "Walking", "Dash", SubResource("AnimationNodeStateMachineTransition_yfpss"), "Dash", "JumpAndFall", SubResource("AnimationNodeStateMachineTransition_vqgx3"), "JumpAndFall", "Dash", SubResource("AnimationNodeStateMachineTransition_pgv6q"), "JumpAndFall", "Spin", SubResource("AnimationNodeStateMachineTransition_xqivb"), "Spin", "JumpAndFall", SubResource("AnimationNodeStateMachineTransition_w7sik"), "Walking", "Spin", SubResource("AnimationNodeStateMachineTransition_ocqmu"), "Dash", "Slide", SubResource("AnimationNodeStateMachineTransition_v6mtc"), "Slide", "JumpAndFall", SubResource("AnimationNodeStateMachineTransition_tcyba"), "Flip", "JumpAndFall", SubResource("AnimationNodeStateMachineTransition_q4cli"), "Slide", "Flip", SubResource("AnimationNodeStateMachineTransition_fem22"), "Spin", "SuperSpin", SubResource("AnimationNodeStateMachineTransition_d1j4y"), "SuperSpin", "JumpAndFall", SubResource("AnimationNodeStateMachineTransition_gsk3x"), "Dash", "Spin", SubResource("AnimationNodeStateMachineTransition_acw5q"), "Slide", "Spin", SubResource("AnimationNodeStateMachineTransition_euuoj")]
graph_offset = Vector2(-160, -106)

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_ls75x"]

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_1elqm"]
graph_offset = Vector2(-31.7576, -21.2121)
nodes/Add2/node = SubResource("AnimationNodeAdd2_ieb0f")
nodes/Add2/position = Vector2(453.333, 160)
nodes/HandMachine/node = SubResource("AnimationNodeStateMachine_ytn5g")
nodes/HandMachine/position = Vector2(160, 240)
nodes/StateMachine/node = SubResource("AnimationNodeStateMachine_plgea")
nodes/StateMachine/position = Vector2(13.3333, -26.6667)
nodes/TimeScale/node = SubResource("AnimationNodeTimeScale_ls75x")
nodes/TimeScale/position = Vector2(253.333, 40)
nodes/output/position = Vector2(640, 160)
node_connections = [&"Add2", 0, &"TimeScale", &"Add2", 1, &"HandMachine", &"TimeScale", 0, &"StateMachine", &"output", 0, &"Add2"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_67nus"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_2x4nq"]
states/BlendTree/node = SubResource("AnimationNodeBlendTree_1elqm")
states/BlendTree/position = Vector2(441.333, 100)
states/Start/position = Vector2(200.667, 99.7778)
transitions = ["Start", "BlendTree", SubResource("AnimationNodeStateMachineTransition_67nus")]

[sub_resource type="SphereShape3D" id="SphereShape3D_ieb0f"]
radius = 1.0

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_fc1xm"]
radius = 0.55
height = 1.7

[sub_resource type="ShaderMaterial" id="ShaderMaterial_8lhgq"]
render_priority = 0
shader = ExtResource("5_ov32d")
shader_parameter/bob_amount = 0.1
shader_parameter/diffuse_colour = Color(0.83, 0.821423, 0.5727, 1)
shader_parameter/metalness = 0.5
shader_parameter/roughness = 0.0
shader_parameter/emission = 0.2
shader_parameter/perlescence_colour = Color(1, 0.855089, 0.948175, 1)
shader_parameter/perlescence_frequency = 0.5

[sub_resource type="Animation" id="Animation_rgudy"]
resource_name = "OnCollectShell"
length = 0.4
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("ShellCountDisplay/ShellCountLabel:scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.3, 0.4),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [Vector2(1, 1), Vector2(1.2, 1.2), Vector2(0.95, 0.95), Vector2(1, 1)]
}

[sub_resource type="Animation" id="Animation_6khos"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("ShellCountDisplay/ShellCountLabel:scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(1, 1)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_ov32d"]
_data = {
&"OnCollectShell": SubResource("Animation_rgudy"),
&"RESET": SubResource("Animation_6khos")
}

[node name="Crab" type="CharacterBody3D"]
collision_layer = 3
axis_lock_angular_x = true
axis_lock_angular_y = true
axis_lock_angular_z = true
floor_max_angle = 0.610865
script = ExtResource("1_fc1xm")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(-4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0, 1, 0, 0.6, 0)
shape = SubResource("CapsuleShape3D_ieb0f")

[node name="AnimationTree" type="AnimationTree" parent="."]
root_node = NodePath("../crab")
tree_root = SubResource("AnimationNodeStateMachine_2x4nq")
anim_player = NodePath("../crab/AnimationPlayer")
parameters/BlendTree/Add2/add_amount = 1.0
parameters/BlendTree/HandMachine/conditions/has_grabbed = false
parameters/BlendTree/HandMachine/conditions/is_grabbing_1 = false
parameters/BlendTree/HandMachine/conditions/is_grabbing_2 = false
parameters/BlendTree/HandMachine/conditions/is_swinging = false
parameters/BlendTree/HandMachine/conditions/is_yeeting = false
parameters/BlendTree/StateMachine/conditions/is_dash_pressed = false
parameters/BlendTree/StateMachine/conditions/is_flipping = false
parameters/BlendTree/StateMachine/conditions/is_on_ground = false
parameters/BlendTree/StateMachine/conditions/is_rave_pressed = false
parameters/BlendTree/StateMachine/conditions/is_sliding = false
parameters/BlendTree/StateMachine/conditions/is_spin_pressed = false
parameters/BlendTree/StateMachine/conditions/is_super_spinning = false
parameters/BlendTree/StateMachine/JumpAndFall/blend_position = 0
parameters/BlendTree/StateMachine/Walking/blend_position = Vector2(0, 2.275)
parameters/BlendTree/TimeScale/scale = 1.0

[node name="crab" parent="." instance=ExtResource("1_vihr2")]
transform = Transform3D(-0.3, 0, -2.62268e-08, 0, 0.3, 0, 2.62268e-08, 0, -0.3, 0, 0, 0)

[node name="Skeleton3D" parent="crab/CrabSkeleton" index="0"]
bones/0/rotation = Quaternion(0, 0.707107, 0.707107, 0)
bones/1/position = Vector3(-1.19209e-07, 3.57628e-07, 1.58246)
bones/1/rotation = Quaternion(-0.0855332, 7.71563e-19, 1.72431e-18, 0.996335)
bones/2/rotation = Quaternion(-6.91205e-06, -0.000124586, 0.623034, 0.782195)
bones/3/rotation = Quaternion(-0.000111696, -4.96125e-09, -0.470701, 0.882293)
bones/4/rotation = Quaternion(-6.91313e-06, 0.000124587, -0.623034, 0.782195)
bones/5/rotation = Quaternion(-0.000111692, 3.39741e-09, 0.4707, 0.882293)
bones/6/position = Vector3(-2.63418, 0.915537, 0.631063)
bones/6/rotation = Quaternion(0.0279933, -0.376673, 0.116826, 0.918523)
bones/7/rotation = Quaternion(4.39551e-05, 3.69305e-06, 0.212165, 0.977234)
bones/8/rotation = Quaternion(-4.39382e-05, 3.70544e-06, -0.212164, 0.977234)
bones/9/position = Vector3(2.63418, 0.915537, 0.631063)
bones/9/rotation = Quaternion(0.0279933, 0.376673, -0.116826, 0.918523)
bones/10/rotation = Quaternion(4.39584e-05, -3.68233e-06, -0.212165, 0.977234)
bones/11/rotation = Quaternion(-4.39298e-05, -3.67844e-06, 0.212164, 0.977234)
bones/12/rotation = Quaternion(0.0840079, -0.0467175, 0.239238, 0.966191)
bones/13/rotation = Quaternion(-0.361299, 0.0124797, 0.153833, 0.919588)
bones/14/rotation = Quaternion(-0.41072, 0.00350323, 0.00654384, 0.911731)
bones/15/rotation = Quaternion(-0.00474551, -0.0352117, 0.962336, 0.26953)
bones/16/rotation = Quaternion(-0.393047, -0.00318559, -0.0904252, 0.915056)
bones/17/rotation = Quaternion(-0.392062, -0.00146695, 0.000372723, 0.919938)
bones/18/rotation = Quaternion(0.0840079, 0.0467175, -0.239238, 0.966191)
bones/19/rotation = Quaternion(-0.361299, -0.0124797, -0.153833, 0.919588)
bones/20/rotation = Quaternion(-0.41072, -0.00350323, -0.00654384, 0.911731)
bones/21/rotation = Quaternion(0.00474551, -0.0352117, 0.962336, -0.26953)
bones/22/rotation = Quaternion(-0.393047, 0.00318559, 0.0904252, 0.915056)
bones/23/rotation = Quaternion(-0.392062, 0.00146695, -0.000372723, 0.919938)
bones/24/rotation = Quaternion(0.045663, -0.0508843, 0.695447, 0.715318)
bones/25/rotation = Quaternion(-0.385248, -0.00170352, 0.0455832, 0.921685)
bones/26/rotation = Quaternion(-0.44574, -0.00136058, 0.00234112, 0.895159)
bones/27/rotation = Quaternion(0.045663, 0.0508843, -0.695447, 0.715318)
bones/28/rotation = Quaternion(-0.385248, 0.00170352, -0.0455832, 0.921685)
bones/29/rotation = Quaternion(-0.44574, 0.00136058, -0.00234112, 0.895159)
bones/30/position = Vector3(-1.98933, 1.32662, 0.198479)
bones/31/position = Vector3(1.98933, 1.32662, 0.198479)
bones/32/position = Vector3(-2.44807, -0.000359535, 0.198479)
bones/33/position = Vector3(2.44807, -0.000359535, 0.198479)
bones/34/position = Vector3(-1.98933, -1.32662, 0.198479)
bones/35/position = Vector3(1.98933, -1.32662, 0.198479)

[node name="LeftClawAttachment" type="BoneAttachment3D" parent="crab/CrabSkeleton/Skeleton3D" index="1"]
transform = Transform3D(-0.688938, 0.235704, 0.685426, 0.655302, -0.20157, 0.727976, 0.309748, 0.950691, -0.0155878, 2.63418, 2.04825, 1.0097)
bone_name = "Claw.L"
bone_idx = 6

[node name="RightClawAttachment" type="BoneAttachment3D" parent="crab/CrabSkeleton/Skeleton3D" index="2"]
transform = Transform3D(-0.688938, -0.235704, -0.685426, -0.655302, -0.20157, 0.727976, -0.309748, 0.950691, -0.0155878, -2.63418, 2.04825, 1.0097)
bone_name = "Claw.R"
bone_idx = 9

[node name="SafetyRing" parent="crab/CrabSkeleton/Skeleton3D" index="3"]
visible = false

[node name="BoosterPack" parent="crab/CrabSkeleton/Skeleton3D" index="4"]
visible = false

[node name="GrabArea" type="Area3D" parent="."]
collision_layer = 0
collision_mask = 4

[node name="CollisionShape3D" type="CollisionShape3D" parent="GrabArea"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, -1.5)
shape = SubResource("SphereShape3D_ieb0f")

[node name="PushArea" type="Area3D" parent="."]
collision_layer = 0

[node name="CollisionShape3D" type="CollisionShape3D" parent="PushArea"]
transform = Transform3D(-4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0, 1, 0, 0.6, 0)
shape = SubResource("CapsuleShape3D_fc1xm")

[node name="PopsPlayer" type="AudioStreamPlayer3D" parent="."]
stream = ExtResource("3_fc1xm")
unit_size = 20.0
max_polyphony = 3
bus = &"SFX"

[node name="ChimesPlayer" type="AudioStreamPlayer3D" parent="."]
stream = ExtResource("4_6khos")
max_polyphony = 3
bus = &"SFX"
attenuation_filter_db = -10.0

[node name="ClacksPlayer" type="AudioStreamPlayer3D" parent="."]
stream = ExtResource("5_fyuy5")
max_polyphony = 3
bus = &"SFX"

[node name="ThudsPlayer" type="AudioStreamPlayer3D" parent="."]
stream = ExtResource("6_w66pk")
bus = &"SFX"

[node name="SwingsPlayer" type="AudioStreamPlayer3D" parent="."]
volume_db = -5.0
pitch_scale = 1.5
bus = &"SFX"
attenuation_filter_db = -14.0

[node name="JumpsPlayer" type="AudioStreamPlayer3D" parent="."]
stream = ExtResource("7_hhuwn")
volume_db = -14.0
bus = &"SFX"
attenuation_filter_db = -14.0

[node name="CrabUI" type="CanvasLayer" parent="."]

[node name="ShellCountDisplay" type="HBoxContainer" parent="CrabUI"]
custom_minimum_size = Vector2(150, 100)
anchors_preset = -1
anchor_left = 0.05
anchor_top = 0.05
anchor_right = 0.25
anchor_bottom = 0.2

[node name="ShellIconContainer" type="AspectRatioContainer" parent="CrabUI/ShellCountDisplay"]
layout_mode = 2
size_flags_horizontal = 3

[node name="ViewportContainer" type="SubViewportContainer" parent="CrabUI/ShellCountDisplay/ShellIconContainer"]
custom_minimum_size = Vector2(100, 100)
layout_mode = 2
stretch = true

[node name="SubViewport" type="SubViewport" parent="CrabUI/ShellCountDisplay/ShellIconContainer/ViewportContainer"]
transparent_bg = true
handle_input_locally = false
size = Vector2i(100, 100)
render_target_update_mode = 4

[node name="MeshInstance3D" type="MeshInstance3D" parent="CrabUI/ShellCountDisplay/ShellIconContainer/ViewportContainer/SubViewport"]
layers = 524288
material_override = SubResource("ShaderMaterial_8lhgq")
mesh = ExtResource("4_5xahp")
skeleton = NodePath("../../../..")

[node name="Camera3D" type="Camera3D" parent="CrabUI/ShellCountDisplay/ShellIconContainer/ViewportContainer/SubViewport"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 2.70725)
cull_mask = 524288
environment = ExtResource("5_a6tpn")
fov = 60.0

[node name="ShellCountLabel" type="Label" parent="CrabUI/ShellCountDisplay"]
custom_minimum_size = Vector2(50, 100)
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 1
size_flags_stretch_ratio = 2.0
theme_override_fonts/font = ExtResource("6_2x4nq")
theme_override_font_sizes/font_size = 50
text = "0"
horizontal_alignment = 1
vertical_alignment = 1
script = ExtResource("7_8atix")

[node name="UIAnimator" type="AnimationPlayer" parent="CrabUI"]
libraries = {
&"": SubResource("AnimationLibrary_ov32d")
}

[node name="MiscPlayer" type="AudioStreamPlayer3D" parent="."]

[connection signal="resized" from="CrabUI/ShellCountDisplay/ShellCountLabel" to="CrabUI/ShellCountDisplay/ShellCountLabel" method="_on_resized"]

[editable path="crab"]
